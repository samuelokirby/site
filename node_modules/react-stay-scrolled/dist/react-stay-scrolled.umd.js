!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((n=n||self).ReactStayScrolled={},n.React)}(this,(function(n,e){"use strict";var t="production"===process.env.NODE_ENV;function r(n,e){if(!n){if(t)throw new Error("Invariant failed");throw new Error("Invariant failed: "+(e||""))}}function o(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var u=function(n){return n.scrollHeight-n.clientHeight},c=function(n,e){var t;void 0===e&&(e=o);var r,u=[],c=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return c&&t===this&&e(o,u)||(r=n.apply(this,o),c=!0,t=this,u=o),r}}((function(n){return function(e){n.current.scrollTop=e}})),i="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;n.default=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.initialScroll,l=void 0===o?null:o,f=t.inaccuracy,a=void 0===f?0:f,s=t.runScroll,d=void 0===s?c(n):s,v=e.useRef(null),h=e.useCallback((function(){return Math.ceil(n.current.scrollTop)>=u(n.current)-a}),[a]);e.useEffect((function(){var e=function(){v.current=h()};return n.current.addEventListener("scroll",e),function(){return n.current.removeEventListener("scroll",e)}}),[]);var p=e.useCallback((function(e){null===n.current&&("production"!==process.env.NODE_ENV?r(!1,"Trying to scroll to the bottom, but no element was found.\n      Did you call this scrollBottom before the component with this hook finished mounting?"):r(!1));var t=Math.min(u(n.current),e);d(t)}),[d]),y=e.useCallback((function(){p(1/0)}),[p]),E=e.useCallback((function(){return v.current&&y(),v.current}),[y]);return i((function(){null!==l&&p(l),v.current=h()}),[]),{scroll:p,stayScrolled:E,scrollBottom:y,isScrolled:h}},Object.defineProperty(n,"__esModule",{value:!0})}));
