{"ast":null,"code":"import { useRef, useCallback, useEffect, useLayoutEffect } from 'react';\nimport invariant from 'tiny-invariant';\nimport memoize from 'memoize-one'; // eslint-disable-next-line import/prefer-default-export\n\nvar maxScrollTop = function maxScrollTop(dom) {\n  return dom.scrollHeight - dom.clientHeight;\n};\n\nvar defaultRunScroll = memoize(function (domRef) {\n  return function (offset) {\n    domRef.current.scrollTop = offset;\n  };\n});\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar index = function (domRef) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$initialScroll = _ref.initialScroll,\n      initialScroll = _ref$initialScroll === void 0 ? null : _ref$initialScroll,\n      _ref$inaccuracy = _ref.inaccuracy,\n      inaccuracy = _ref$inaccuracy === void 0 ? 0 : _ref$inaccuracy,\n      _ref$runScroll = _ref.runScroll,\n      runScroll = _ref$runScroll === void 0 ? defaultRunScroll(domRef) : _ref$runScroll;\n\n  var wasScrolled = useRef(null);\n  var isScrolled = useCallback(function () {\n    return Math.ceil(domRef.current.scrollTop) >= maxScrollTop(domRef.current) - inaccuracy;\n  }, [inaccuracy]);\n  useEffect(function () {\n    var onScroll = function onScroll() {\n      wasScrolled.current = isScrolled();\n    };\n\n    domRef.current.addEventListener('scroll', onScroll);\n    return function () {\n      return domRef.current.removeEventListener('scroll', onScroll);\n    };\n  }, []);\n  var scroll = useCallback(function (position) {\n    !(domRef.current !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to scroll to the bottom, but no element was found.\\n      Did you call this scrollBottom before the component with this hook finished mounting?\") : invariant(false) : void 0;\n    var offset = Math.min(maxScrollTop(domRef.current), position);\n    runScroll(offset);\n  }, [runScroll]);\n  var scrollBottom = useCallback(function () {\n    scroll(Infinity);\n  }, [scroll]);\n  var stayScrolled = useCallback(function () {\n    if (wasScrolled.current) scrollBottom();\n    return wasScrolled.current;\n  }, [scrollBottom]);\n  useIsomorphicLayoutEffect(function () {\n    if (initialScroll !== null) {\n      scroll(initialScroll);\n    }\n\n    wasScrolled.current = isScrolled();\n  }, []);\n  return {\n    scroll: scroll,\n    stayScrolled: stayScrolled,\n    scrollBottom: scrollBottom,\n    isScrolled: isScrolled\n  };\n};\n\nexport default index;","map":{"version":3,"sources":["/Users/sam/Desktop/psite/node_modules/react-stay-scrolled/dist/react-stay-scrolled.esm.js"],"names":["useRef","useCallback","useEffect","useLayoutEffect","invariant","memoize","maxScrollTop","dom","scrollHeight","clientHeight","defaultRunScroll","domRef","offset","current","scrollTop","useIsomorphicLayoutEffect","window","index","_ref","arguments","length","undefined","_ref$initialScroll","initialScroll","_ref$inaccuracy","inaccuracy","_ref$runScroll","runScroll","wasScrolled","isScrolled","Math","ceil","onScroll","addEventListener","removeEventListener","scroll","position","process","env","NODE_ENV","min","scrollBottom","Infinity","stayScrolled"],"mappings":"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","sourcesContent":["import { useRef, useCallback, useEffect, useLayoutEffect } from 'react';\nimport invariant from 'tiny-invariant';\nimport memoize from 'memoize-one';\n\n// eslint-disable-next-line import/prefer-default-export\nvar maxScrollTop = function maxScrollTop(dom) {\n  return dom.scrollHeight - dom.clientHeight;\n};\n\nvar defaultRunScroll = memoize(function (domRef) {\n  return function (offset) {\n    domRef.current.scrollTop = offset;\n  };\n});\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nvar index = (function (domRef) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$initialScroll = _ref.initialScroll,\n      initialScroll = _ref$initialScroll === void 0 ? null : _ref$initialScroll,\n      _ref$inaccuracy = _ref.inaccuracy,\n      inaccuracy = _ref$inaccuracy === void 0 ? 0 : _ref$inaccuracy,\n      _ref$runScroll = _ref.runScroll,\n      runScroll = _ref$runScroll === void 0 ? defaultRunScroll(domRef) : _ref$runScroll;\n\n  var wasScrolled = useRef(null);\n  var isScrolled = useCallback(function () {\n    return Math.ceil(domRef.current.scrollTop) >= maxScrollTop(domRef.current) - inaccuracy;\n  }, [inaccuracy]);\n  useEffect(function () {\n    var onScroll = function onScroll() {\n      wasScrolled.current = isScrolled();\n    };\n\n    domRef.current.addEventListener('scroll', onScroll);\n    return function () {\n      return domRef.current.removeEventListener('scroll', onScroll);\n    };\n  }, []);\n  var scroll = useCallback(function (position) {\n    !(domRef.current !== null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to scroll to the bottom, but no element was found.\\n      Did you call this scrollBottom before the component with this hook finished mounting?\") : invariant(false) : void 0;\n    var offset = Math.min(maxScrollTop(domRef.current), position);\n    runScroll(offset);\n  }, [runScroll]);\n  var scrollBottom = useCallback(function () {\n    scroll(Infinity);\n  }, [scroll]);\n  var stayScrolled = useCallback(function () {\n    if (wasScrolled.current) scrollBottom();\n    return wasScrolled.current;\n  }, [scrollBottom]);\n  useIsomorphicLayoutEffect(function () {\n    if (initialScroll !== null) {\n      scroll(initialScroll);\n    }\n\n    wasScrolled.current = isScrolled();\n  }, []);\n  return {\n    scroll: scroll,\n    stayScrolled: stayScrolled,\n    scrollBottom: scrollBottom,\n    isScrolled: isScrolled\n  };\n});\n\nexport default index;\n"]},"metadata":{},"sourceType":"module"}