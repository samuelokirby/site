{"ast":null,"code":"import _toConsumableArray from\"/Users/sam/Desktop/psite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/sam/Desktop/psite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import{Typography,Button,Container,makeStyles,Input}from'@material-ui/core';import{Helmet}from'react-helmet';import $ from'jquery';import ChatBody from'../components/ChatBody';var useStyles=makeStyles(function(theme){return{linkButton:{marginTop:10,backgroundColor:'#005ECF',color:'#fff',fontWeight:'bold',textTransform:'none',width:'33%',boxShadow:'0px 2px 2px lightgray'},icon:{height:200,width:200},leftMessage:{padding:5,paddingLeft:10,paddingRight:10,borderRadius:10,marginTop:5,marginBottom:5,boxShadow:'2px 2px 5px lightgray',display:'inline-block',clear:'both',float:'left',backgroundColor:'#03fc77',maxWidth:350,wordBreak:'break-word'},rightMessage:{padding:2,paddingLeft:10,paddingRight:10,borderRadius:10,marginTop:5,marginBottom:5,boxShadow:'2px 2px 5px lightgray',clear:'both',float:'right',backgroundColor:'#00c8ff',maxWidth:350,wordBreak:'break-word'},button:{marginTop:10,marginLeft:5,marginRight:5,'&:hover':{backgroundColor:theme.palette.primary.main,boxShadow:'0px 0px 0px gray'},backgroundColor:theme.palette.primary.main,textTransform:'none',pointerEvents:'none'}};});function Home(){var baseUrl=\"https://api.api.ai/v1/\";var accessToken=\"d40a2e1786324a019851c794082aaaa1\";var _useState=useState(['Sam-Bot: Welcome to my page! I am Sam-Bot, a chat bot designed by Sam to answer questions.']),_useState2=_slicedToArray(_useState,2),history=_useState2[0],updateHistory=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];// useEffect(() => {\n//   messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\n// });\nvar send=function send(query){setInput(\"\");var text=query;$.ajax({type:\"POST\",url:baseUrl+\"query?v=2180101\",contentType:\"application/json; charset=utf-8\",dataType:\"json\",headers:{\"Authorization\":\"Bearer \"+accessToken},data:JSON.stringify({query:text,lang:\"en\",sessionId:\"sam\"}),success:function success(data){var timeout=0;if($.inArray(text,history)){timeout=1000*(Math.random()*2+0.5);}updateHistory(function(oldArray){return[].concat(_toConsumableArray(oldArray),[text]);});setTimeout(setResponse,timeout,data.result.fulfillment.speech);}});};var setResponse=function setResponse(val){var botString=\"Sam-Bot: \";var newString=botString+val;newString=newString.replace(/\\s+/g,' ').trim();updateHistory(function(oldArray){return[].concat(_toConsumableArray(oldArray),[newString]);});// $(\".chatBox\").append(\"\\n\" + newString + \"\\n\");\n};var classes=useStyles();return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",style:{marginTop:125,marginBottom:400},children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"body\",{style:\" background-image: url('../pbackground.png'); background-repeat: no-repeat; background-size: cover;\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",style:{fontWeight:500},children:\"Sam Bot\"}),/*#__PURE__*/_jsx(ChatBody,{children:history.map(function(item){console.log(item.substring(0,9));if(item.substring(0,9)==='Sam-Bot: '){// if Sam-Bot is sending the message\nreturn/*#__PURE__*/_jsx(\"div\",{className:classes.leftMessage,children:item.substring(9,item.length)});}else{return/*#__PURE__*/_jsx(\"div\",{className:classes.rightMessage,children:item});}})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Input,{style:{width:400},onKeyDown:function onKeyDown(event){if(event.key==='Enter'){send(input);}},onChange:function onChange(event){setInput(event.target.value);},value:input}),/*#__PURE__*/_jsx(Button,{children:\"Send\"})]})]});}export default Home;","map":{"version":3,"sources":["/Users/sam/Desktop/psite/src/pages/Home.js"],"names":["React","useState","Typography","Button","Container","makeStyles","Input","Helmet","$","ChatBody","useStyles","theme","linkButton","marginTop","backgroundColor","color","fontWeight","textTransform","width","boxShadow","icon","height","leftMessage","padding","paddingLeft","paddingRight","borderRadius","marginBottom","display","clear","float","maxWidth","wordBreak","rightMessage","button","marginLeft","marginRight","palette","primary","main","pointerEvents","Home","baseUrl","accessToken","history","updateHistory","input","setInput","send","query","text","ajax","type","url","contentType","dataType","headers","data","JSON","stringify","lang","sessionId","success","timeout","inArray","Math","random","oldArray","setTimeout","setResponse","result","fulfillment","speech","val","botString","newString","replace","trim","classes","textAlign","map","item","console","log","substring","length","justifyContent","event","key","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Typography, Button, Container, makeStyles, Input } from '@material-ui/core';\nimport { Helmet } from 'react-helmet';\nimport $ from 'jquery';\nimport ChatBody from '../components/ChatBody';\n\n\nconst useStyles = makeStyles((theme) => ({\n\n  linkButton: {\n    marginTop: 10,\n    backgroundColor: '#005ECF',\n    color: '#fff',\n    fontWeight: 'bold',\n    textTransform: 'none',\n    width: '33%',\n    boxShadow: '0px 2px 2px lightgray',\n  },\n\n  icon: {\n    height: 200,\n    width: 200,\n  },\n\n  leftMessage: {\n    padding: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n    borderRadius: 10,\n    marginTop: 5,\n    marginBottom: 5,\n    boxShadow: '2px 2px 5px lightgray',\n    display: 'inline-block',\n    clear: 'both',\n    float: 'left',\n    backgroundColor: '#03fc77',\n    maxWidth: 350,\n    wordBreak: 'break-word',\n  },\n\n  rightMessage: {\n    padding: 2,\n    paddingLeft: 10,\n    paddingRight: 10,\n    borderRadius: 10,\n    marginTop: 5,\n    marginBottom: 5,\n    boxShadow: '2px 2px 5px lightgray',\n    clear: 'both',\n    float: 'right',\n    backgroundColor: '#00c8ff',\n    maxWidth: 350,\n    wordBreak: 'break-word',\n\n  },\n\n  button: {\n    marginTop: 10,\n    marginLeft: 5,\n    marginRight: 5,\n    '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        boxShadow: '0px 0px 0px gray',\n    },\n    backgroundColor: theme.palette.primary.main,\n    textTransform: 'none',\n    pointerEvents: 'none',\n  },\n\n}));\n\nfunction Home(){\n\n  var baseUrl = \"https://api.api.ai/v1/\";\n  var accessToken = \"d40a2e1786324a019851c794082aaaa1\";\n\n  const [history, updateHistory] = useState(['Sam-Bot: Welcome to my page! I am Sam-Bot, a chat bot designed by Sam to answer questions.']);\n\n  const [input, setInput] = useState(\"\");\n\n\n\n  // useEffect(() => {\n  //   messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\n  // });\n\n  const send = (query) => {\n    setInput(\"\");\n    var text = query;\n    $.ajax({\n      type: \"POST\",\n      url: baseUrl + \"query?v=2180101\",\n      contentType: \"application/json; charset=utf-8\",\n      dataType: \"json\",\n      headers: {\n        \"Authorization\": \"Bearer \" + accessToken\n      },\n      data: JSON.stringify({ query: text, lang: \"en\", sessionId: \"sam\" }),\n      success: function(data) {\n        var timeout = 0;\n        if($.inArray(text, history)){\n            timeout = 1000 * ((Math.random() * 2) + 0.5);\n        }\n        updateHistory(oldArray => [...oldArray, text]);\n        setTimeout(setResponse, timeout, data.result.fulfillment.speech);\n      }\n    });\n  }\n\n  const setResponse = (val) => {\n    var botString = \"Sam-Bot: \";\n    var newString = botString + val;\n    newString = newString.replace(/\\s+/g,' ').trim();\n    updateHistory(oldArray => [...oldArray, newString]);\n\n    // $(\".chatBox\").append(\"\\n\" + newString + \"\\n\");\n  }\n\n\n  const classes = useStyles();\n\n\n  return(\n\n\n    <Container maxWidth=\"lg\" style={{marginTop: 125, marginBottom: 400}}>\n\n\n    <Helmet>\n      <body style=\"\n      background-image: url('../pbackground.png');\n      background-repeat: no-repeat;\n      background-size: cover;\"\n      />\n    </Helmet>\n\n    <div style={{textAlign: 'center'}}>\n\n        <Typography variant=\"h3\" style={{fontWeight: 500}}>\n          Sam Bot\n        </Typography>\n\n        \n\n        <ChatBody>\n          {history.map(function(item){\n            console.log(item.substring(0, 9));\n            if(item.substring(0, 9) === 'Sam-Bot: '){\n              // if Sam-Bot is sending the message\n              return(\n                <div className={classes.leftMessage}>\n                  {item.substring(9, item.length)}\n                </div>\n              )\n            }\n            else{\n              return(\n                <div className={classes.rightMessage}>\n                  {item}\n                </div>\n              )\n            }\n          })}\n        </ChatBody>\n      \n    </div>\n\n    <div style={{display: 'flex', justifyContent: 'center'}}>\n      <Input\n      style={{width: 400}}\n      onKeyDown={event=>{\n        if(event.key === 'Enter'){\n          send(input);\n        }\n      }}\n      onChange={event=>{\n        setInput(event.target.value);\n      }}\n      value={input}\n      \n      />\n      <Button>\n        Send\n      </Button>\n\n\n    </div>\n\n\n\n\n    </Container>\n\n  )\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}